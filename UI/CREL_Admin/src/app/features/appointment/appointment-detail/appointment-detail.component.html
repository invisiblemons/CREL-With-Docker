<p-dialog
  header="Chi tiết cuộc hẹn"
  [(visible)]="isShowDialog"
  [style]="{ width: '60vw' }"
  [modal]="true"
  styleClass="p-fluid"
  (onHide)="hideDialog()"
  [dismissableMask]="true"
  [closable]="true"
  [draggable]="false"
  [baseZIndex]="1100"
>
  <div class="grid" *ngIf="isShowSkeleton">
    <div class="sm:col-12 md:col-6">
      <p-skeleton height="2rem" styleClass="mb-2"></p-skeleton>
    </div>
    <div class="sm:col-12 md:col-6">
      <p-skeleton height="2rem" styleClass="mb-2"></p-skeleton>
    </div>
    <div class="sm:col-12 md:col-6">
      <p-skeleton height="2rem" styleClass="mb-2"></p-skeleton>
    </div>
    <div class="sm:col-12 md:col-6">
      <p-skeleton height="2rem" styleClass="mb-2"></p-skeleton>
    </div>
    <div class="sm:col-12 md:col-6">
      <p-skeleton height="2rem" styleClass="mb-2"></p-skeleton>
    </div>
    <div class="sm:col-12 md:col-6">
      <p-skeleton height="2rem" styleClass="mb-2"></p-skeleton>
    </div>
    <div class="sm:col-12 md:col-6">
      <p-skeleton height="2rem" styleClass="mb-2"></p-skeleton>
    </div>
    <div class="sm:col-12 md:col-6">
      <p-skeleton height="2rem" styleClass="mb-2"></p-skeleton>
    </div>
    <div class="sm:col-12 md:col-6">
      <p-skeleton height="2rem" styleClass="mb-2"></p-skeleton>
    </div>
    <div class="sm:col-12 md:col-6">
      <p-skeleton height="2rem" styleClass="mb-2"></p-skeleton>
    </div>
    <div class="sm:col-12">
      <p-skeleton height="4rem" styleClass="mb-2"></p-skeleton>
    </div>
  </div>
  <div class="grid" *ngIf="!isShowSkeleton">
    <div class="container-fluid px-5">
      <div class="row">
        <div class="col-12 px-0">
          <div class="card custom-card mb-4">
            <div class="card-body">
              <div class="row">
                <div class="col-sm-3">
                  <p class="mb-0">Trạng thái</p>
                </div>
                <div class="col-sm-9">
                  <p-tag
                    *ngIf="appointment.status === 0"
                    icon="pi pi-trash"
                    severity="danger"
                    value="Đã xoá"
                    [rounded]="true"
                  ></p-tag>
                  <p-tag
                    *ngIf="appointment.status === 1"
                    icon="pi pi-exclamation-triangle"
                    severity="warning"
                    value="Đợi xét duyệt"
                    [rounded]="true"
                  ></p-tag>
                  <p-tag
                    *ngIf="appointment.status === 2"
                    icon="pi pi-info-circle"
                    severity="info"
                    value="Sắp diễn ra"
                    [rounded]="true"
                  ></p-tag>
                  <p-tag
                    *ngIf="appointment.status === 3"
                    icon="pi pi-times"
                    severity="danger"
                    value="Không được duyệt"
                    [rounded]="true"
                  ></p-tag>
                  <p-tag
                    *ngIf="appointment.status === 4"
                    icon="pi pi-check"
                    severity="success"
                    value="Đã diễn ra"
                    [rounded]="true"
                  ></p-tag>
                  <p-tag
                    *ngIf="appointment.status === 5"
                    icon="pi pi-times"
                    severity="expired"
                    value="Diễn ra thất bại"
                    [rounded]="true"
                  ></p-tag>
                  <p-tag
                    *ngIf="appointment.status === 6"
                    icon="pi pi-exclamation-triangle"
                    severity="warning"
                    value="Yêu cầu duyệt"
                    [rounded]="true"
                  ></p-tag>
                </div>
              </div>
              <hr />
              <div class="row" *ngIf="appointment.status === 0 || appointment.status === 3">
                <div class="col-sm-3">
                  <p class="mb-0">Lý do huỷ bỏ</p>
                </div>
                <div class="col-sm-9">
                  <p class="text-muted mb-0">{{ appointment.rejectMessage }}</p>
                </div>
              </div>
              <hr />
              <div class="row">
                <div class="col-sm-3">
                  <p class="mb-0">Thời gian tạo</p>
                </div>
                <div class="col-sm-9">
                  <p class="text-muted mb-0">
                    {{ appointment.createDateTime | date: DATE_FORMAT }}
                  </p>
                </div>
              </div>
              <hr />
              <div class="row">
                <div class="col-sm-3">
                  <p class="mb-0">Thời gian diễn ra</p>
                </div>
                <div class="col-sm-9">
                  <p class="text-muted mb-0">{{ appointment.onDateTime | date: DATE_FORMAT }}</p>
                </div>
              </div>
              <hr />
              <div class="row">
                <div class="col-sm-3">
                  <p class="mb-0">Bất động sản</p>
                </div>
                <div class="col-sm-9">
                  <p class="text-muted mb-0">
                    <a
                      href="javascript:void(0);"
                      class="ml-2 pe-none"
                      (click)="openPropertyDetail()"
                    >
                      {{ appointment.property.name }}
                    </a>
                  </p>
                </div>
              </div>
              <hr />
              <div class="row">
                <div class="col-sm-3">
                  <p class="mb-0">Thương hiệu</p>
                </div>
                <div class="col-sm-9">
                  <p class="text-muted mb-0">
                    <a
                      href="javascript:void(0);"
                      class="ml-2 pe-none"
                      (click)="openBrandDetail()"
                      >{{ appointment.brand.name }}
                    </a>
                  </p>
                </div>
              </div>
              <hr />
              <div class="row">
                <div class="col-sm-3">
                  <p class="mb-0">Nhân viên môi giới</p>
                </div>
                <div class="col-sm-9">
                  <p class="text-muted mb-0">
                    <a
                      href="javascript:void(0);"
                      class="ml-2 pe-none"
                      (click)="openBrokerDetail()"
                    >
                      {{ appointment.broker.name }}
                    </a>
                  </p>
                </div>
              </div>
              <hr />
              <div class="row">
                <div class="col-sm-3">
                  <p class="mb-0">Lời nhắn</p>
                </div>
                <div class="col-sm-9">
                  {{ appointment.description }}
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</p-dialog>

<ng-container *ngIf="isShowBrand">
  <app-brand-detail
    (statusBrandDialog)="statusBrandDialog()" [appointment]="appointment"
  ></app-brand-detail>
</ng-container>
<ng-container *ngIf="isShowProperty">
  <app-property-detail
    (statusPropertyDialog)="statusPropertyDialog()" [appointment]="appointment"
  ></app-property-detail>
</ng-container>
<ng-container *ngIf="isShowBroker">
  <app-broker-detail
    (statusBrokerDialog)="statusBrokerDialog()" [appointment]="appointment"
  ></app-broker-detail>
</ng-container>
